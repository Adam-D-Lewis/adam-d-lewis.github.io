<!-- This layout is used in all pages. Making changes here will affect all pages. We recommend not to change anything here. --> <!DOCTYPE html><html lang="en"><head><meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" /><link rel="dns-prefetch" href="//fonts.googleapis.com" /><link rel="dns-prefetch" href="//google-analytics.com" /><link rel="dns-prefetch" href="//www.google-analytics.com" /><link rel="dns-prefetch" href="//maxcdn.bootstrapcdn.com" /><link rel="dns-prefetch" href="//ajax.googleapis.com" /><link rel="dns-prefetch" href="//fonts.gstatic.com" /><title>Rocket League Play Analyzer (Live Deployment) | Adam Lewis Portfolio</title><meta name="generator" content="Jekyll v3.8.4" /><meta property="og:title" content="Rocket League Play Analyzer (Live Deployment)" /><meta property="og:locale" content="en_US" /><meta name="description" content="Rocket League Play Analyzer" /><meta property="og:description" content="Rocket League Play Analyzer" /><meta property="og:site_name" content="Adam Lewis Portfolio" /><meta property="og:image" content="/assets/images/rocket_league.jpg" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2019-05-01T00:00:00+00:00" /><meta name="twitter:card" content="summary_large_image" /><meta property="twitter:image" content="/assets/images/rocket_league.jpg" /><meta property="twitter:title" content="Rocket League Play Analyzer (Live Deployment)" /><script type="application/ld+json"> {"@type":"BlogPosting","image":"/assets/images/rocket_league.jpg","url":"/projects/rocket-league-analyzer/","headline":"Rocket League Play Analyzer (Live Deployment)","dateModified":"2019-05-01T00:00:00+00:00","datePublished":"2019-05-01T00:00:00+00:00","mainEntityOfPage":{"@type":"WebPage","@id":"/projects/rocket-league-analyzer/"},"description":"Rocket League Play Analyzer","@context":"https://schema.org"}</script><link rel="stylesheet" href="/assets/css/main-default.css" /><link id="color-scheme" rel="stylesheet" href="/assets/css/main-default.css" /><link rel="apple-touch-icon" sizes="60x60" href="/assets/img/apple-icon-60x60.png" /><link rel="apple-touch-icon" sizes="114x114" href="/assets/img/apple-icon-114x114.png" /><link rel="apple-touch-icon" sizes="152x152" href="/assets/img/apple-icon-152x152.png" /><link rel="icon" type="image/png" sizes="192x192" href="/assets/img/android-icon-192x192.png" /><link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" /><link rel="icon" href="/favicon.ico" type="image/x-icon" /><script src="https://cdn.jsdelivr.net/npm/ga-lite@1/dist/ga-lite.min.js" async></script><script> var galite = galite || {}; galite.UA = 'UA-142377027-2';</script><script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML"></script><script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script></head><body><div class="loader"><div class="lds-ring"><div></div><div></div><div></div><div></div></div></div><div class="wrapper"><div class="container-grid"><div class="sidebar"><div class="author-container shadow"><div class="author"><img src="/assets/images/author-image.jpg" width="100%" height="auto;" alt="Adam Lewis Portfolio" onclick="location.href='/'"></div><div class="about text-center"><h1 class="title"><a href="/">Adam Lewis</a></h1></div><div class="bio text-center"><p class="m0">Data Scientist | ML Engineer</p></div><hr class="dashed"><div class="social text-center"> <ul class="portfolio p0"> <li><a href="/projects/">Projects</a></li> <li><a href="/blog/">Articles</a></li> <li><a href="/contact/">Contact</a></li> </ul> <ul class="sm p0 m0a"> <li><a href="/"><i class="fa fa-home"></i></a></li> <li><a href="https://www.linkedin.com/in/adam-d-lewis/"><i class="fa fa-linkedin"></i></a></li> <li><a href="https://github.com/balast"><i class="fa fa-github"></i></a></li> </ul></div></div></div><div class="main"><div class="main-container shadow"><div class="title-space"> <h1>Rocket League Play Analyzer (Live Deployment)</h1><div class="input-group mb-3" data-aos="zoom-in"> <input type="text" class="form-control" id="search-input"><div class="input-group-append"> <span class="input-group-text"><i class="fa fa-search"></i></span></div></div></div><hr class="dashed"> <main> <ul class="breadcrumbs"> <li><a href="/">Home</a></li> <li><a href="/projects/">Projects</a></li> <li><a href="#">Rocket league ana...</a></li> </ul><div class="meta" data-aos="fade-up"> <p> <small> <span> <i class="fa fa-calendar" aria-hidden="true"></i> 01 May 2019&nbsp; </span> <span> <i class="fa fa-user" aria-hidden="true"></i> &nbsp; </span> <span> <i class="fa fa-clock-o" aria-hidden="true"></i> 5 mins read. </span> </small> </p></div><div class="featured-image" style="background-image: url(/assets/images/rocket_league.jpg)" data-aos="zoom-in" ></div><div class="container"> <article> <ul class="toc"> <li><a href="#introduction">Introduction</a></li> <li><a href="#app-summary">App Summary</a></li> <li><a href="#getting-data">Getting Data</a></li> <li><a href="#cleaning-data">Cleaning Data</a></li> <li><a href="#feature-importance-w-random-forest-classifiers">Feature Importance w/ Random Forest Classifiers</a></li> <li><a href="#recognizing-skill-deficiencies-w-k-nearest-neighbors">Recognizing Skill Deficiencies w/ K-Nearest Neighbors</a></li> <li><a href="#balancing-important-skills-and-deficient-skills">Balancing Important Skills and Deficient Skills</a></li> <li><a href="#web-app-architecture-and-deployment">Web App Architecture and Deployment</a></li> </ul> <p>The app can be viewed at <a href="https://rocket-league-play-analzyer.herokuapp.com/player_analyzer">https://rocket-league-play-analzyer.herokuapp.com/player_analyzer</a> (website takes a few seconds to load).</p> <h1 id="introduction">Introduction</h1> <p>The Rocket League Play Analyzer is a consumer facing web app built using Python, Flask, Pandas, Scikit-Learn, Random Forest Classifiers, and K-Nearest Neighbors to provide personalized training recommendations to accelerate gamer rank advancement using 20 GB of performance data collected using a web API.</p> <h1 id="app-summary">App Summary</h1> <p>Rocket League is a popular e-sports video game. Gameplay is essentially virtual soccer in rocket propelled cars. Rocket league boasts over 57 million registered players, and due to its popularity an entire ecosystem has arisen all focused around helping players level up in the game ranking system from YouTube videos, to coaching services, to paid training content.</p> <p>The Rocket League Play Analyzer analyzes an individual player’s game data, identifies which skills will help that player rank up in the in-game ranking system fastest, and then recommends specific training resources to help players do so.</p> <h1 id="getting-data">Getting Data</h1> <p>The data was collected from https://calculated.gg, a site which allows players to upload their saved replays, and then will analyze the players stats compared to other players. They have a lot of great features on their site, but not a training resource recommender.</p> <p>The calculated.gg web api was used to collect every 3v3 Standard ranked match played from January 1 to April 9, 2019. The total data included over 200,000 matches and was over 20 GB in size.</p> <h1 id="cleaning-data">Cleaning Data</h1> <p>The raw data was in the form of 2 sets of json objects. One with the metadata for the games, and another with the performance statistics for the match. The data contained much unneeded information for this application. The unneeded information was discarded, two pandas dataframes were created and then manipulated with user defined functions. Finally, the dataframes were merged with an inner join to produce a dataframe of performance statistics per player per game.</p> <p>After cleaning the data, the data size was reduced to about 500 MB. Something that could easily fit in memory, and eventually be deployed in the heroku platform.</p> <h1 id="feature-importance-w-random-forest-classifiers">Feature Importance w/ Random Forest Classifiers</h1> <p>For this project, the recommended skill to work on should be both:</p> <ol> <li>a skill which will help the player rank up</li> <li>a skill which the player is deficient in</li> </ol> <p>This section deals with #1 in the list above. Relative feature importance can be used with some caveats to determine which skills are most needed in order to increase in rank.</p> <p>Unfortunately, calculating the variance inflation factor (VIF) showed a high degree of collinearity amongst the features of data. Collinearity can affect the relative feature importance. In order to mitigate this I iteratively removed the feature with the highest VIF until all VIFs were below 5. This left me with 13 remaining features.</p> <p>Now that only features with an acceptable amount of multicollinearity remain, I can proceed. Rocket League ranks go from 1-19. It is entirely possible and likely that different skills are going to be critical if a player is going from rank 1 to rank 2 than if they are going from rank 18 to rank 19. In order to determine which skills are most important based on what class a player is currently I trained 18 random forest binary classifiers to predict a player’s rank based on their game stats. Each individual classifier was trained with only a subset of the data and predicts whether a player is in rank i or i+1 only where i is an integer from 1-18.</p> <h1 id="recognizing-skill-deficiencies-w-k-nearest-neighbors">Recognizing Skill Deficiencies w/ K-Nearest Neighbors</h1> <p>For this project, the recommended skill to work on should be both:</p> <ol> <li>a skill which will help the player rank up</li> <li>a skill which the player is deficient in</li> </ol> <p>This section deals with #2 in the list above. There are various ways one might determine which skill the player is deficient in relative to the players at the rank he is trying to achieve. One way might be to compare his average stats to the average stats of the group he is trying to achieve. There could be players who rank up because they are really good at scoring while others could rank up because they are exceptional at stealing the ball from their opponents, as a simplified example. While improving in both of these stats are good, we’re looking for which are the best skills to practice.</p> <p>This app compare a player’s average stats not to the entire population at the next rank, but rather only the part of the population most similar to the where the player already is by looking at the k-nearest neighbors.</p> <p>While precomputing the nearest neighbors for every player in my dataset would unnecessarily waste storage space, I did need to normalize the data and then store the dataset in a ball tree in order to readily find the nearest neighbors for any potential user of the app. The k-nearest neighbors can readily be found from the ball tree dataset.</p> <h1 id="balancing-important-skills-and-deficient-skills">Balancing Important Skills and Deficient Skills</h1> <p>We now have the relative feature importance and the relative deficiencies of the player, but how to average these two priorities? I went with a geometric average, because if a skill was not very important I didn’t want to recommend it to the player even if they are very “deficient” in that statistic. There are other logical ways to average these 2 quantities, but geometric averaging seems like a good bet.</p> <h1 id="web-app-architecture-and-deployment">Web App Architecture and Deployment</h1> <p>Flask was used for the backend for the web app. The front end of the app was built with bootstrap 4. The app is deployed under heroku’s free tier.</p> </article></div><hr class="dashed" /><div class="container"><div class="row" data-aos="fade-up"><div class="col-md-12"><div class="share-box"> Share with others: <a class="f nostyle" href="https://www.facebook.com/sharer/sharer.php?u=/projects/rocket-league-analyzer/" onclick="window.open(this.href, 'mywin', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" ><i class="fa fa-facebook-official fa"></i ></a> <a class="t nostyle" href="https://twitter.com/intent/tweet?text=&url=/projects/rocket-league-analyzer/" onclick="window.open(this.href, 'mywin', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" ><i class="fa fa-twitter fa"></i ></a> <a class="g nostyle" href="https://plus.google.com/share?url=/projects/rocket-league-analyzer/" onclick="window.open(this.href, 'mywin', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" ><i class="fa fa-google-plus fa"></i ></a> <a class="r nostyle" href="http://www.reddit.com/submit?url=/projects/rocket-league-analyzer/" onclick="window.open(this.href, 'mywin', 'left=20,top=20,width=900,height=500,toolbar=1,resizable=0'); return false;" ><i class="fa fa-reddit fa"></i ></a> <a class="l nostyle" href="https://www.linkedin.com/shareArticle?mini=true&url=/projects/rocket-league-analyzer/&title=&summary=&source=webjeda" onclick="window.open(this.href, 'mywin', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" ><i class="fa fa-linkedin fa"></i ></a> <a class="e nostyle" href="mailto:?subject=&amp;body=Check&amp;out&amp;this&amp;site&amp;/projects/rocket-league-analyzer/" ><i class="fa fa-envelope fa"></i ></a></div></div></div><div class="row"><div class="col-md-12"> <p class="categories" data-aos="fade-up"> </p></div></div><div id="disqus_thread" data-aos="fade-up"></div><script defer> (function() { var d = document, s = d.createElement("script"); s.src = "//portfolio-ghw33nbcja.disqus.com/embed.js"; s.setAttribute("data-timestamp", +new Date()); (d.head || d.body).appendChild(s); })();</script><noscript>Please enable JavaScript to view the comments</noscript><div class="recent" data-aos="fade-up"><div class=""> <h3>Recent Articles</h3></div><div class="recent-grid"><div class="items" data-aos="fade-up"> <a class="nostyle item" href="/blog/spatial-filtering/"><div class="cards"><div class="image" style="background-image: url(/assets/images/spatial_filter_post/us_at_night.jpg)" ></div><p class="title"><small>Spatial Filtering at Scale with Dask and Spatialpandas</small></p></div></a></div><div class="items" data-aos="fade-up"> <a class="nostyle item" href="/blog/getting-started-in-os/"><div class="cards"><div class="image" style="background-image: url(/assets/images/computer.jpg)" ></div><p class="title"><small>Getting Started in Open Source: Lessons learned from a first-time open source contributor</small></p></div></a></div></div></div></div></main><div id="search-container"></div><hr class="dashed"><footer data-aos="fade-up"><div class="text-right"> <p class="copy"> <i class="fa fa-at"></i> 2020 <a class="rev" href="">Adam Lewis</a> </p></div></footer></div></div></div></div><script src="/assets/js/jQuery.min.js"></script><script> $(document).ready(function () { $(".loader").hide(); });</script><script> (function () { var css = document.createElement('link'); css.href = '/assets/font-awesome-4.7.0/css/font-awesome.min.css'; css.rel = 'stylesheet'; css.type = 'text/css'; document.getElementsByTagName('head')[0].appendChild(css); })();</script><noscript><link rel="stylesheet" href="/assets/font-awesome-4.7.0/css/font-awesome.min.css"> </noscript><script> $("#search-input").keyup(function () { $("main").hide(); $("search-container").show(); if (!$('#search-input').val()) { $("main").show(); $("search-container").hide(); } });</script><script src="/assets/js/jekyll-search.min.js" type="text/javascript"></script><script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-container'), searchResultTemplate: '<a class="nostyle" href="{url}"><div class="blog borders cards"><div class="image" style="background-image: url({image});"></div><div class="content"><h3 class="title">{title}</h3><p class="description">{description}</p></div></div></a>', noResultsText: 'No results found', json: '/search.json' })</script><script> (function () { var css = document.createElement('link'); css.href = 'https://unpkg.com/aos@2.3.1/dist/aos.css'; css.rel = 'stylesheet'; css.type = 'text/css'; document.getElementsByTagName('head')[0].appendChild(css); })();</script><noscript><link rel="stylesheet" href="/assets/animate-on-scroll/aos.min.css"> </noscript><script src="/assets/animate-on-scroll/aos.min.js"></script><script> AOS.init({ duration: 600, once: true, disable: 'mobile' });</script></body></html>